[Unit]
Description=Matchbox boot service
Documentation=https://github.com/coreos/matchbox

[Service]
User={{matchbox_config_user}}
Group={{matchbox_config_group}}
Environment="MATCHBOX_ADDRESS={{matchbox_config_address.bind}}:{{matchbox_config_address.port}}"
Environment="MATCHBOX_RPC_ADDRESS={{matchbox_config_rpc_address.bind}}:{{matchbox_config_rpc_address.port}}"
Environment="MATCHBOX_LOG_LEVEL={{matchbox_config_log_level}}"
ExecStart={{matchbox_config_exec}} -data-path "{{matchbox_config_data_path}}"

ProtectHome=yes
ProtectSystem=full

Restart=always
RestartSec=5
TimeoutStartSec=10
TimeoutStopSec=10

[Install]
WantedBy=multi-user.target
